import{R as s,r as v}from"./react-BMrMXMSG.js";function E(){return(E=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r}).apply(this,arguments)}function D(r,e){if(r==null)return{};var t,n,o={},a=Object.keys(r);for(n=0;n<a.length;n++)e.indexOf(t=a[n])>=0||(o[t]=r[t]);return o}function C(r){var e=v.useRef(r),t=v.useRef(function(n){e.current&&e.current(n)});return e.current=r,t.current}var b=function(r,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),r>t?t:r<e?e:r},_=function(r){return"touches"in r},M=function(r){return r&&r.ownerDocument.defaultView||self},R=function(r,e,t){var n=r.getBoundingClientRect(),o=_(e)?function(a,c){for(var u=0;u<a.length;u++)if(a[u].identifier===c)return a[u];return a[0]}(e.touches,t):e;return{left:b((o.pageX-(n.left+M(r).pageXOffset))/n.width),top:b((o.pageY-(n.top+M(r).pageYOffset))/n.height)}},O=function(r){!_(r)&&r.preventDefault()},L=s.memo(function(r){var e=r.onMove,t=r.onKey,n=D(r,["onMove","onKey"]),o=v.useRef(null),a=C(e),c=C(t),u=v.useRef(null),d=v.useRef(!1),l=v.useMemo(function(){var S=function(h){O(h),(_(h)?h.touches.length>0:h.buttons>0)&&o.current?a(R(o.current,h,u.current)):x(!1)},q=function(){return x(!1)};function x(h){var f=d.current,g=M(o.current),m=h?g.addEventListener:g.removeEventListener;m(f?"touchmove":"mousemove",S),m(f?"touchend":"mouseup",q)}return[function(h){var f=h.nativeEvent,g=o.current;if(g&&(O(f),!function(T,B){return B&&!_(T)}(f,d.current)&&g)){if(_(f)){d.current=!0;var m=f.changedTouches||[];m.length&&(u.current=m[0].identifier)}g.focus(),a(R(g,f,u.current)),x(!0)}},function(h){var f=h.which||h.keyCode;f<37||f>40||(h.preventDefault(),c({left:f===39?.05:f===37?-.05:0,top:f===40?.05:f===38?-.05:0}))},x]},[c,a]),p=l[0],y=l[1],I=l[2];return v.useEffect(function(){return I},[I]),s.createElement("div",E({},n,{onTouchStart:p,onMouseDown:p,className:"react-colorful__interactive",ref:o,onKeyDown:y,tabIndex:0,role:"slider"}))}),H=function(r){return r.filter(Boolean).join(" ")},K=function(r){var e=r.color,t=r.left,n=r.top,o=n===void 0?.5:n,a=H(["react-colorful__pointer",r.className]);return s.createElement("div",{className:a,style:{top:100*o+"%",left:100*t+"%"}},s.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:e}}))},i=function(r,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*r)/t},X=function(r){return J(k(r))},k=function(r){return r[0]==="#"&&(r=r.substring(1)),r.length<6?{r:parseInt(r[0]+r[0],16),g:parseInt(r[1]+r[1],16),b:parseInt(r[2]+r[2],16),a:r.length===4?i(parseInt(r[3]+r[3],16)/255,2):1}:{r:parseInt(r.substring(0,2),16),g:parseInt(r.substring(2,4),16),b:parseInt(r.substring(4,6),16),a:r.length===8?i(parseInt(r.substring(6,8),16)/255,2):1}},Y=function(r){return F(A(r))},V=function(r){var e=r.s,t=r.v,n=r.a,o=(200-e)*t/100;return{h:i(r.h),s:i(o>0&&o<200?e*t/100/(o<=100?o:200-o)*100:0),l:i(o/2),a:i(n,2)}},N=function(r){var e=V(r);return"hsl("+e.h+", "+e.s+"%, "+e.l+"%)"},A=function(r){var e=r.h,t=r.s,n=r.v,o=r.a;e=e/360*6,t/=100,n/=100;var a=Math.floor(e),c=n*(1-t),u=n*(1-(e-a)*t),d=n*(1-(1-e+a)*t),l=a%6;return{r:i(255*[n,u,c,c,d,n][l]),g:i(255*[d,n,n,u,c,c][l]),b:i(255*[c,c,d,n,n,u][l]),a:i(o,2)}},w=function(r){var e=r.toString(16);return e.length<2?"0"+e:e},F=function(r){var e=r.r,t=r.g,n=r.b,o=r.a,a=o<1?w(i(255*o)):"";return"#"+w(e)+w(t)+w(n)+a},J=function(r){var e=r.r,t=r.g,n=r.b,o=r.a,a=Math.max(e,t,n),c=a-Math.min(e,t,n),u=c?a===e?(t-n)/c:a===t?2+(n-e)/c:4+(e-t)/c:0;return{h:i(60*(u<0?u+6:u)),s:i(a?c/a*100:0),v:i(a/255*100),a:o}},P=s.memo(function(r){var e=r.hue,t=r.onChange,n=H(["react-colorful__hue",r.className]);return s.createElement("div",{className:n},s.createElement(L,{onMove:function(o){t({h:360*o.left})},onKey:function(o){t({h:b(e+360*o.left,0,360)})},"aria-label":"Hue","aria-valuenow":i(e),"aria-valuemax":"360","aria-valuemin":"0"},s.createElement(K,{className:"react-colorful__hue-pointer",left:e/360,color:N({h:e,s:100,v:100,a:1})})))}),Q=s.memo(function(r){var e=r.hsva,t=r.onChange,n={backgroundColor:N({h:e.h,s:100,v:100,a:1})};return s.createElement("div",{className:"react-colorful__saturation",style:n},s.createElement(L,{onMove:function(o){t({s:100*o.left,v:100-100*o.top})},onKey:function(o){t({s:b(e.s+100*o.left,0,100),v:b(e.v-100*o.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+i(e.s)+"%, Brightness "+i(e.v)+"%"},s.createElement(K,{className:"react-colorful__saturation-pointer",top:1-e.v/100,left:e.s/100,color:N(e)})))}),j=function(r,e){if(r===e)return!0;for(var t in r)if(r[t]!==e[t])return!1;return!0},U=function(r,e){return r.toLowerCase()===e.toLowerCase()||j(k(r),k(e))};function W(r,e,t){var n=C(t),o=v.useState(function(){return r.toHsva(e)}),a=o[0],c=o[1],u=v.useRef({color:e,hsva:a});v.useEffect(function(){if(!r.equal(e,u.current.color)){var l=r.toHsva(e);u.current={hsva:l,color:e},c(l)}},[e,r]),v.useEffect(function(){var l;j(a,u.current.hsva)||r.equal(l=r.fromHsva(a),u.current.color)||(u.current={hsva:a,color:l},n(l))},[a,r,n]);var d=v.useCallback(function(l){c(function(p){return Object.assign({},p,l)})},[]);return[a,d]}var Z=typeof window<"u"?v.useLayoutEffect:v.useEffect,$=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},z=new Map,G=function(r){Z(function(){var e=r.current?r.current.ownerDocument:document;if(e!==void 0&&!z.has(e)){var t=e.createElement("style");t.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,z.set(e,t);var n=$();n&&t.setAttribute("nonce",n),e.head.appendChild(t)}},[])},rr=function(r){var e=r.className,t=r.colorModel,n=r.color,o=n===void 0?t.defaultColor:n,a=r.onChange,c=D(r,["className","colorModel","color","onChange"]),u=v.useRef(null);G(u);var d=W(t,o,a),l=d[0],p=d[1],y=H(["react-colorful",e]);return s.createElement("div",E({},c,{ref:u,className:y}),s.createElement(Q,{hsva:l,onChange:p}),s.createElement(P,{hue:l.h,onChange:p,className:"react-colorful__last-control"}))},er={defaultColor:"000",toHsva:X,fromHsva:function(r){return Y({h:r.h,s:r.s,v:r.v,a:1})},equal:U},nr=function(r){return s.createElement(rr,E({},r,{colorModel:er}))};export{nr as Z};
